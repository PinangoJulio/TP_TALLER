ğŸ† JerarquÃ­a de Prioridades de ImplementaciÃ³n
FASE 1: Lobby Completo (Lo que tienes + lo mÃ­nimo necesario)
Nivel 1.1: Ya tienes (âœ…)

âœ… Crear partida
âœ… Unirse a partida
âœ… Listar partidas
âœ… Sistema de HOST
âœ… Transferencia de HOST
âœ… Auto-destrucciÃ³n de partidas

Nivel 1.2: FÃ¡cil - SelecciÃ³n de Auto (ğŸŸ¢ SIGUIENTE)
Complejidad: Baja
Cambios: MÃ­nimos (solo agregar campo en GameRoom)
cpp// GameRoom - Agregar:
std::map<std::string, std::string> player_cars;  // username -> tipo_auto

// Protocolo - Agregar:
MSG_SELECT_CAR = 0x06
MSG_CAR_SELECTED = 0x15
MSG_PLAYERS_STATUS = 0x16  // Broadcast: quiÃ©n eligiÃ³ quÃ©
Beneficio: Sin esto NO puedes iniciar una carrera

Nivel 1.3: FÃ¡cil - Estados del Lobby (ğŸŸ¢)
Complejidad: Baja
Cambios: Ampliar enum GameState
cppenum class GameState : uint8_t {
    WAITING_PLAYERS,   // < 2 jugadores
    SELECTING_CARS,    // >= 2, eligiendo autos
    READY,             // Todos eligieron, puede iniciar
    STARTED            // Ya empezÃ³
};
Beneficio: Controla mejor el flujo del lobby

Nivel 1.4: Media - Timeouts en Lobby (ğŸŸ¡)
Complejidad: Media
Cambios: Agregar timers con std::chrono
cpp// Timeout si nadie elige auto en 30s â†’ auto por defecto
// Timeout si lobby inactivo 5min â†’ auto-destruir
Beneficio: Evita lobbies zombies

FASE 2: TransiciÃ³n Lobby â†’ Juego
Nivel 2.1: Media - Iniciar Partida (sin mÃºltiples carreras) (ğŸŸ¡ CRÃTICO)
Complejidad: Media
Cambios: TransiciÃ³n de lobby a juego
cpp// Cuando HOST hace "Start":
1. Validar todos eligieron auto
2. Serializar datos de partida (jugadores + autos)
3. Enviar MSG_GAME_STARTED a todos
4. Cliente cambia de LobbyWindow a GameWindow
5. Servidor instancia GameLoop (Thread)
Beneficio: SIN ESTO NO HAY JUEGO

Nivel 2.2: DifÃ­cil - Cargar Mapa por Defecto (ğŸŸ )
Complejidad: Alta
Cambios: Parser de YAML de mapas + integraciÃ³n Box2D
cpp// Servidor carga 1 mapa hardcodeado al iniciar
// Crea geometrÃ­a estÃ¡tica en Box2D
// Coloca checkpoints segÃºn YAML
Beneficio: Puedes tener una carrera funcional

FASE 3: Juego Funcional BÃ¡sico
Nivel 3.1: Alta - GameLoop (ğŸ”´ CRÃTICO)
Complejidad: Muy Alta
Cambios: Implementar loop del juego con Box2D
cppclass GameLoop : public Thread {
    // Actualiza fÃ­sica a 60 FPS
    // Detecta checkpoints
    // Detecta colisiones
    // Broadcast de posiciones
};

Nivel 3.2: Alta - Renderizado bÃ¡sico en Cliente (ğŸ”´)
Complejidad: Alta
Cambios: SDL2 + renderizado de autos + minimapa

FASE 4: CaracterÃ­sticas Avanzadas
Nivel 4.1: MÃºltiples Carreras (ğŸ”´)
Complejidad: Muy Alta
Cambios: Estados post-carrera, tabla de posiciones, mejoras de auto

Nivel 4.2: SelecciÃ³n de Mapa por HOST (ğŸ”´)
Complejidad: Muy Alta
Cambios: UI para elegir mapa, parser dinÃ¡mico






tpfinal-need-for-speed/
â”œâ”€â”€ common_src/           
â”‚   â”œâ”€â”€ socket.*          âœ… (TP Sockets - EN USO)
â”‚   â”œâ”€â”€ thread.h          âœ… (TP Threads - EN USO)
â”‚   â”œâ”€â”€ queue.h           âœ… (TP Threads - EN USO)
â”‚   â”œâ”€â”€ resolver.*        âœ… (Soporte sockets)
â”‚   â”œâ”€â”€ liberror.*        âœ… (Manejo errores)
â”‚   â”œâ”€â”€ resolvererror.*   âœ… (Manejo errores)
â”‚   â”œâ”€â”€ config.*          âœ… (Lector YAML)
â”‚   â”œâ”€â”€ lobby_protocol.*  âœ… (Protocolo lobby)
â”‚   â””â”€â”€ foo.*             âš ï¸  (Test dummy - puedes eliminar)
â”‚
â”œâ”€â”€ server_src/
â”‚   â”œâ”€â”€ lobby/
â”‚   â”‚   â”œâ”€â”€ lobby_manager.*   âœ… (GestiÃ³n partidas)
â”‚   â”‚   â”œâ”€â”€ game_room.*       âœ… (LÃ³gica sala)
â”‚   â”‚   â”œâ”€â”€ lobby_server.*    âœ… (Servidor lobby)
â”‚   â”‚   â””â”€â”€ lobby_main.cpp    âœ… (Test ejecutable)
â”‚   â”‚
â”‚   â”œâ”€â”€ game/             ğŸ”œ (FASE 2 - Juego en sÃ­)
â”‚   â”‚   â”œâ”€â”€ game_loop.*       (Thread del juego)
â”‚   â”‚   â”œâ”€â”€ game_state.*      (Estado del juego)
â”‚   â”‚   â”œâ”€â”€ car.*             (LÃ³gica del auto)
â”‚   â”‚   â””â”€â”€ physics/          (IntegraciÃ³n Box2D)
â”‚   â”‚       â””â”€â”€ world.*
â”‚   â”‚
â”‚   â””â”€â”€ main.cpp          âœ… (Main de Box2D - funcionando)
â”‚
â”œâ”€â”€ client_src/
â”‚   â”œâ”€â”€ lobby_client.*    âœ… (Cliente lobby)
â”‚   â”œâ”€â”€ lobby_window.*    âœ… (UI Qt lobby)
â”‚   â”œâ”€â”€ lobby_test_client.cpp âœ… (Test ejecutable)
â”‚   â”‚
â”‚   â””â”€â”€ game/             ğŸ”œ (FASE 2 - Renderizado juego)
â”‚       â”œâ”€â”€ game_renderer.*
â”‚       â””â”€â”€ game_window.*
â”‚
â””â”€â”€ tests/
    â”œâ”€â”€ lobby_tests.cpp   âœ… (Tests lobby)
    â””â”€â”€ foo.cpp           âš ï¸  (Test dummy - puedes eliminar)




